{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport Link from 'next/link';\nimport { withRouter } from 'next/router';\n\nvar B = function B(_ref) {\n  var router = _ref.router,\n      name = _ref.name;\n  return __jsx(\"div\", null, \"B page\", __jsx(Link, {\n    href: \"/#?id=1\",\n    as: \"/1\"\n  }, __jsx(\"div\", null, __jsx(\"h1\", null, \"goto index\"), \"router id: \", router.query.id, __jsx(\"p\", null, \"name: \", name))));\n}; // 只有放在 pages目录页面下才能使用getInitialProps\n\n\nB.getInitialProps =\n/*#__PURE__*/\n_asyncToGenerator(\n/*#__PURE__*/\n_regeneratorRuntime.mark(function _callee() {\n  var promise;\n  return _regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          console.log('-------------------');\n          promise = new _Promise(function (resolve) {\n            // 访问B页面时候 会等待3秒才会渲染 \n            setTimeout(function () {\n              resolve({\n                name: 'jokcy'\n              });\n            }, 3000);\n          });\n          _context.next = 4;\n          return promise;\n\n        case 4:\n          return _context.abrupt(\"return\", _context.sent);\n\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _callee);\n}));\nexport default withRouter(B);","map":{"version":3,"sources":["F:\\vue-react-webpack-learn\\learn\\react\\nextJS-project\\pages\\b.js"],"names":["React","Link","withRouter","B","router","name","query","id","getInitialProps","console","log","promise","resolve","setTimeout"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,UAAT,QAA2B,aAA3B;;AAEA,IAAMC,CAAC,GAAG,SAAJA,CAAI,OAAoB;AAAA,MAAlBC,MAAkB,QAAlBA,MAAkB;AAAA,MAAVC,IAAU,QAAVA,IAAU;AAC5B,SACE,6BAGE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC,SAAX;AAAqB,IAAA,EAAE,EAAC;AAAxB,KACE,mBACE,+BADF,iBAEeD,MAAM,CAACE,KAAP,CAAaC,EAF5B,EAGE,2BAAUF,IAAV,CAHF,CADF,CAHF,CADF;AAaD,CAdD,C,CAgBA;;;AACAF,CAAC,CAACK,eAAF;AAAA;AAAA;AAAA;AAAA,yBAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAClBC,UAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACMC,UAAAA,OAFY,GAEF,aAAY,UAACC,OAAD,EAAa;AACvC;AACAC,YAAAA,UAAU,CAAC,YAAM;AACfD,cAAAA,OAAO,CAAC;AACNP,gBAAAA,IAAI,EAAE;AADA,eAAD,CAAP;AAGD,aAJS,EAIP,IAJO,CAAV;AAKD,WAPe,CAFE;AAAA;AAAA,iBAWLM,OAXK;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAApB;AAiBA,eAAeT,UAAU,CAACC,CAAD,CAAzB","sourcesContent":["import React from 'react'\r\nimport Link from 'next/link'\r\nimport { withRouter } from 'next/router'\r\n\r\nconst B = ({router, name}) => {\r\n  return (\r\n    <div>\r\n      B page\r\n      {/* as 路由映射， 以/1比较好看的方式来传参 等于/?id=1 */}\r\n      <Link href='/#?id=1' as=\"/1\">\r\n        <div>\r\n          <h1>goto index</h1>\r\n          router id: { router.query.id }\r\n          <p>name: {name}</p>\r\n        </div>\r\n      </Link>\r\n    </div>\r\n  )\r\n}\r\n\r\n// 只有放在 pages目录页面下才能使用getInitialProps\r\nB.getInitialProps = async () => {\r\n  console.log('-------------------')\r\n  const promise = new Promise((resolve) => {\r\n    // 访问B页面时候 会等待3秒才会渲染 \r\n    setTimeout(() => {\r\n      resolve({\r\n        name: 'jokcy'\r\n      })\r\n    }, 3000)\r\n  })\r\n\r\n  return await promise\r\n  // return {\r\n  //   name: 'jokcy'\r\n  // }\r\n}\r\n\r\nexport default withRouter(B)"]},"metadata":{},"sourceType":"module"}